import{u as v,a as b,Q as q,b as x,c as m,d as w}from"./QForm-Detl64-Y.js";import{Q as p}from"./QCardSection-CPZURFUz.js";import{e as y,g as Q,f as k,h as V,i as B,j as c,u as C,c as g,o as i,w as n,b as e,k as f,l as h,m as S,n as D,t as L,Q as P,a as N}from"./index-DPmGLG70.js";const U=y({name:"QCard",props:{...v,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(a,{slots:t}){const{proxy:{$q:s}}=Q(),r=b(a,s),u=k(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(a.bordered===!0?" q-card--bordered":"")+(a.square===!0?" q-card--square no-border-radius":"")+(a.flat===!0?" q-card--flat no-shadow":""));return()=>V(a.tag,{class:u.value},B(t.default))}}),j={key:0,class:"text-negative text-center q-mb-sm"},I={class:"row justify-center"},$={__name:"LoginCard",setup(a){const t=c(""),s=c(""),r=c(""),u=C();async function _(){try{const o=await N.post("/api/login/login",{username:t.value,password:s.value});o.data.success?await u.push("/landing"):r.value=o.data.message}catch(o){r.value=o.response?.data?.error||o.message}}return(o,l)=>(i(),g(U,{class:"q-pa-lg",style:{"min-width":"350px"}},{default:n(()=>[e(p,null,{default:n(()=>[...l[2]||(l[2]=[f("div",{class:"text-h6 text-center"},"Login",-1)])]),_:1}),e(q),e(p,null,{default:n(()=>[e(x,{onSubmit:h(_,["prevent"]),class:"q-gutter-md"},{default:n(()=>[e(m,{filled:"",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=d=>t.value=d),label:"Username",dense:"",autofocus:""},null,8,["modelValue"]),e(m,{filled:"",modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=d=>s.value=d),label:"Password",type:"password",dense:""},null,8,["modelValue"]),r.value?(i(),S("div",j,L(r.value),1)):D("",!0),f("div",I,[e(P,{label:"Login",type:"submit",color:"primary"})])]),_:1})]),_:1})]),_:1}))}},R={__name:"LoginPage",setup(a){return(t,s)=>(i(),g(w,{class:"flex flex-center"},{default:n(()=>[e($)]),_:1}))}};export{R as default};

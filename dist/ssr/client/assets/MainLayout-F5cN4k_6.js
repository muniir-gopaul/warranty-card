import{e as H,f as n,h as y,i as $,g as k,p as O,q as x,s as R,j as V,v as f,x as T,y as M,z as P,A as j,u as D,r as U,c as A,o as J,w as _,b as g,B as K,Q as L,k as W,t as F,a as Y}from"./index-DPmGLG70.js";import{b as I,Q as E,a as G}from"./QLayout-B0zMPHa8.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=H({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:h}){const s=n(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>y("div",{class:s.value},$(h.default))}}),ee=H({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:h}){const s=n(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>y("div",{class:s.value,role:"toolbar"},$(h.default))}}),te=H({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:h,emit:s}){const{proxy:{$q:r}}=k(),e=O(R,x);if(e===x)return console.error("QHeader needs to be child of QLayout"),x;const u=V(parseInt(t.heightHint,10)),l=V(!0),p=n(()=>t.reveal===!0||e.view.value.indexOf("H")!==-1||r.platform.is.ios&&e.isContainer.value===!0),b=n(()=>{if(t.modelValue!==!0)return 0;if(p.value===!0)return l.value===!0?u.value:0;const a=u.value-e.scroll.value.position;return a>0?a:0}),q=n(()=>t.modelValue!==!0||p.value===!0&&l.value!==!0),z=n(()=>t.modelValue===!0&&q.value===!0&&t.reveal===!0),Q=n(()=>"q-header q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(q.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),C=n(()=>{const a=e.rows.value.top,v={};return a[0]==="l"&&e.left.space===!0&&(v[r.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),a[2]==="r"&&e.right.space===!0&&(v[r.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),v});function i(a,v){e.update("header",a,v)}function w(a,v){a.value!==v&&(a.value=v)}function c({height:a}){w(u,a),i("size",a)}function m(a){z.value===!0&&w(l,!0),s("focusin",a)}f(()=>t.modelValue,a=>{i("space",a),w(l,!0),e.animate()}),f(b,a=>{i("offset",a)}),f(()=>t.reveal,a=>{a===!1&&w(l,t.modelValue)}),f(l,a=>{e.animate(),s("reveal",a)}),f(e.scroll,a=>{t.reveal===!0&&w(l,a.direction==="up"||a.position<=t.revealOffset||a.position-a.inflectionPoint<100)});const B={};return e.instances.header=B,t.modelValue===!0&&i("size",u.value),i("space",t.modelValue),i("offset",b.value),T(()=>{e.instances.header===B&&(e.instances.header=void 0,i("size",0),i("offset",0),i("space",!1))}),()=>{const a=M(h.default,[]);return t.elevated===!0&&a.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(y(I,{debounce:0,onResize:c})),y("header",{class:Q.value,style:C.value,onFocusin:m},a)}}}),ae=H({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:h,emit:s}){const{proxy:{$q:r}}=k(),e=O(R,x);if(e===x)return console.error("QFooter needs to be child of QLayout"),x;const u=V(parseInt(t.heightHint,10)),l=V(!0),p=V(P.value===!0||e.isContainer.value===!0?0:window.innerHeight),b=n(()=>t.reveal===!0||e.view.value.indexOf("F")!==-1||r.platform.is.ios&&e.isContainer.value===!0),q=n(()=>e.isContainer.value===!0?e.containerHeight.value:p.value),z=n(()=>{if(t.modelValue!==!0)return 0;if(b.value===!0)return l.value===!0?u.value:0;const o=e.scroll.value.position+q.value+u.value-e.height.value;return o>0?o:0}),Q=n(()=>t.modelValue!==!0||b.value===!0&&l.value!==!0),C=n(()=>t.modelValue===!0&&Q.value===!0&&t.reveal===!0),i=n(()=>"q-footer q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(Q.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(b.value!==!0?" hidden":""):"")),w=n(()=>{const o=e.rows.value.bottom,d={};return o[0]==="l"&&e.left.space===!0&&(d[r.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),o[2]==="r"&&e.right.space===!0&&(d[r.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),d});function c(o,d){e.update("footer",o,d)}function m(o,d){o.value!==d&&(o.value=d)}function B({height:o}){m(u,o),c("size",o)}function a(){if(t.reveal!==!0)return;const{direction:o,position:d,inflectionPoint:N}=e.scroll.value;m(l,o==="up"||d-N<100||e.height.value-q.value-d-u.value<300)}function v(o){C.value===!0&&m(l,!0),s("focusin",o)}f(()=>t.modelValue,o=>{c("space",o),m(l,!0),e.animate()}),f(z,o=>{c("offset",o)}),f(()=>t.reveal,o=>{o===!1&&m(l,t.modelValue)}),f(l,o=>{e.animate(),s("reveal",o)}),f([u,e.scroll,e.height],a),f(()=>r.screen.height,o=>{e.isContainer.value!==!0&&m(p,o)});const S={};return e.instances.footer=S,t.modelValue===!0&&c("size",u.value),c("space",t.modelValue),c("offset",z.value),T(()=>{e.instances.footer===S&&(e.instances.footer=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const o=j(h.default,[y(I,{debounce:0,onResize:B})]);return t.elevated===!0&&o.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y("footer",{class:i.value,style:w.value,onFocusin:v},o)}}}),oe={class:"text-center q-pa-sm"},le={__name:"MainLayout",props:{title:{type:String,default:"Warranty Card Management"},user:{type:String,default:()=>{if(typeof window<"u"){const t=localStorage.getItem("user");return t?JSON.parse(t).name:""}return""}}},setup(t){const h=D();async function s(){try{await Y.post("/api/login/logout")}catch(r){console.error("Logout error:",r)}finally{typeof window<"u"&&localStorage.removeItem("token"),h.push("/login")}}return(r,e)=>{const u=U("router-view");return J(),A(G,{view:"lHh Lpr lFf"},{default:_(()=>[g(te,null,{default:_(()=>[g(ee,{class:"bg-grey-12 shadow-5"},{default:_(()=>[g(Z,null,{default:_(()=>[g(L,{icon:"verified",class:"text-blue-grey-8 text-weight-bold text-h5 rounded-borders text-bold",flat:"",label:t.title,onClick:e[0]||(e[0]=l=>r.goTo("/landing"))},null,8,["label"])]),_:1}),K(r.$slots,"header-actions",{},void 0,!0),g(L,{"icon-right":"logout",size:"md",outline:"","icon-size":"12px",label:"Logout",onClick:s,class:"rounded-borders q-mr-md",color:"deep-orange-14"})]),_:3})]),_:3}),g(E,null,{default:_(()=>[g(u)]),_:1}),g(ae,{class:"bg-grey-8 text-white"},{default:_(()=>[W("div",oe,"Â© "+F(new Date().getFullYear())+" "+F(t.title),1)]),_:1})]),_:3})}}},se=X(le,[["__scopeId","data-v-ce4c099b"]]);export{se as default};

import{resolveComponent as i,mergeProps as O,withCtx as t,createVNode as e,renderSlot as C,toDisplayString as b,useSSRContext as P}from"vue";import{ssrRenderComponent as r,ssrRenderSlot as V,ssrInterpolate as z}from"vue/server-renderer";import{useRouter as W}from"vue-router";import j from"axios";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const p={__name:"MainLayout",__ssrInlineRender:!0,props:{title:{type:String,default:"Warranty Card Management"},user:{type:String,default:()=>{if(typeof window<"u"){const o=localStorage.getItem("user");return o?JSON.parse(o).name:""}return""}}},setup(o){const m=W();async function d(){try{await j.post("/api/login/logout")}catch(l){console.error("Logout error:",l)}finally{typeof window<"u"&&localStorage.removeItem("token"),m.push("/login")}}return(l,T,D,F)=>{const M=i("q-layout"),k=i("q-header"),x=i("q-toolbar"),u=i("q-toolbar-title"),n=i("q-btn"),$=i("q-page-container"),y=i("router-view"),S=i("q-footer");T(r(M,O({view:"lHh Lpr lFf"},F),{default:t((B,c,w,v)=>{if(c)c(r(k,null,{default:t((q,a,g,s)=>{if(a)a(r(x,{class:"bg-grey-12 shadow-5"},{default:t((Y,f,_,h)=>{if(f)f(r(u,null,{default:t((N,L,H,I)=>{if(L)L(r(n,{icon:"verified",class:"text-blue-grey-8 text-weight-bold text-h5 rounded-borders text-bold",flat:"",label:o.title,onClick:J=>l.goTo("/landing")},null,H,I));else return[e(n,{icon:"verified",class:"text-blue-grey-8 text-weight-bold text-h5 rounded-borders text-bold",flat:"",label:o.title,onClick:J=>l.goTo("/landing")},null,8,["label","onClick"])]}),_:1},_,h)),V(l.$slots,"header-actions",{},null,f,_,h),f(r(n,{"icon-right":"logout",size:"md",outline:"","icon-size":"12px",label:"Logout",onClick:d,class:"rounded-borders q-mr-md",color:"deep-orange-14"},null,_,h));else return[e(u,null,{default:t(()=>[e(n,{icon:"verified",class:"text-blue-grey-8 text-weight-bold text-h5 rounded-borders text-bold",flat:"",label:o.title,onClick:N=>l.goTo("/landing")},null,8,["label","onClick"])]),_:1}),C(l.$slots,"header-actions",{},void 0,!0),e(n,{"icon-right":"logout",size:"md",outline:"","icon-size":"12px",label:"Logout",onClick:d,class:"rounded-borders q-mr-md",color:"deep-orange-14"})]}),_:3},g,s));else return[e(x,{class:"bg-grey-12 shadow-5"},{default:t(()=>[e(u,null,{default:t(()=>[e(n,{icon:"verified",class:"text-blue-grey-8 text-weight-bold text-h5 rounded-borders text-bold",flat:"",label:o.title,onClick:Y=>l.goTo("/landing")},null,8,["label","onClick"])]),_:1}),C(l.$slots,"header-actions",{},void 0,!0),e(n,{"icon-right":"logout",size:"md",outline:"","icon-size":"12px",label:"Logout",onClick:d,class:"rounded-borders q-mr-md",color:"deep-orange-14"})]),_:3})]}),_:3},w,v)),c(r($,null,{default:t((q,a,g,s)=>{if(a)a(r(y,null,null,g,s));else return[e(y)]}),_:1},w,v)),c(r(S,{class:"bg-grey-8 text-white"},{default:t((q,a,g,s)=>{if(a)a(`<div class="text-center q-pa-sm" data-v-ce4c099b${s}>© ${z(new Date().getFullYear())} ${z(o.title)}</div>`);else return[e("div",{class:"text-center q-pa-sm"},"© "+b(new Date().getFullYear())+" "+b(o.title),1)]}),_:1},w,v));else return[e(k,null,{default:t(()=>[e(x,{class:"bg-grey-12 shadow-5"},{default:t(()=>[e(u,null,{default:t(()=>[e(n,{icon:"verified",class:"text-blue-grey-8 text-weight-bold text-h5 rounded-borders text-bold",flat:"",label:o.title,onClick:q=>l.goTo("/landing")},null,8,["label","onClick"])]),_:1}),C(l.$slots,"header-actions",{},void 0,!0),e(n,{"icon-right":"logout",size:"md",outline:"","icon-size":"12px",label:"Logout",onClick:d,class:"rounded-borders q-mr-md",color:"deep-orange-14"})]),_:3})]),_:3}),e($,null,{default:t(()=>[e(y)]),_:1}),e(S,{class:"bg-grey-8 text-white"},{default:t(()=>[e("div",{class:"text-center q-pa-sm"},"© "+b(new Date().getFullYear())+" "+b(o.title),1)]),_:1})]}),_:3},D))}}},R=p.setup;p.setup=(o,m)=>{const d=P();return(d.modules||(d.modules=new Set)).add("src/layouts/MainLayout.vue"),R?R(o,m):void 0};const X=A(p,[["__scopeId","data-v-ce4c099b"]]);export{X as default};

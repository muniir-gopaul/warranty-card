import{ref as O,reactive as Ge,watch as Ie,onMounted as je,resolveComponent as L,resolveDirective as Me,mergeProps as Ue,withCtx as s,createVNode as a,createTextVNode as qe,withDirectives as q,createBlock as M,createCommentVNode as De,openBlock as F,toDisplayString as z,withModifiers as Fe,nextTick as ze,useSSRContext as Ye}from"vue";import{ssrRenderComponent as i,ssrInterpolate as Ce,ssrGetDirectiveProps as Oe}from"vue/server-renderer";import{useQuasar as Re}from"quasar";import{useRouter as Be}from"vue-router";import K from"axios";import{M as E}from"./MainContainer-B23X3pGe.js";import Ke from"pizzip";import Je from"docxtemplater";import{_ as Ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Qe(V){const v=!V.No,C={Model:V.model||"",Status:V.status||"Installed",Active:V.active||"Yes",Name:V.customerName||"",Contact:V.contact||"",Post_Code:V.postCode||"",User_Owner:V.user||"",Phone_No_of_User_Owner:V.phoneNumber||"",Purchased_At:V.purchaseAt||"",Invoice_No:V.invoiceNo||"",Sold_At_Shop:V.soldAt||"",...V.salesDate?{Sales_Date:xe(V.salesDate)}:{},...V.WarrantyStartDate?{Warranty_Start_Date:xe(V.WarrantyStartDate)}:{},...v?{Item_No:V.itemNumber||"",Serial_No:V.serialNumber||"",Customer_No:V.customerNumber||""}:{}};return v||(delete C.Item_No,delete C.Serial_No,delete C.Customer_No),C}function xe(V){if(!V)return"";const v=new Date(V);return isNaN(v.getTime())?"":`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`}async function He(V){const v=await K.get("/assets/warranty-template.docx",{responseType:"arraybuffer"}),C=new Ke(v.data),x=new Je(C,{paragraphLoop:!0,linebreaks:!0});x.setData(V);try{x.render()}catch(S){throw console.error("Docxtemplater error:",S),S}console.log(V);const c=x.getZip().generate({type:"blob"}),e=document.createElement("a");e.href=URL.createObjectURL(c),e.download=`Warranty_${V.InvoiceNo||"Document"}.docx`,e.click()}const he={__name:"WarrantyCard",__ssrInlineRender:!0,setup(V){const v=Re(),C=Be(),x=O(!1),c=O(!0),e=Ge({WarrantyNo:"",Key:"",No:"",itemNumber:"",serialNumber:"",itemDescription:"",brand:"",status:"Installed",active:"Yes",ServiceItemGroupCode:"",WarrantyOnSpareParts:"",WarrantyOnLabour:"",WarrantyOnTransport:"",WarrantyOnGasThermostat:"",WarrantyOnCompressor:"",WarrantyOnMotor:"",WarrantyStartDate:"",WarrantyStartingDateParts:"",WarrantyEndingDateParts:"",WarrantyStartingDateLabor:"",WarrantyEndingDateLabor:"",customerNumber:"",customerName:"",user:"",phoneNumber:"",purchaseAt:"",postCode:"",contact:"",salesDate:"",invoiceNo:"",soldAt:"",address:"",city:""}),S=O(!1),_=O(!1),I=O(!1),Y=O(!1),j=O(!1),oe=O(""),A=O([]),R=O(!1),J=O(null);function ve(){return!e.No}function re(){return!!(e.itemNumber&&e.serialNumber&&e.customerName&&e.customerNumber&&e.salesDate&&e.invoiceNo)}Ie(e,()=>{_.value=!c.value&&re()},{deep:!0});const ne=[{label:"_blank_",value:"_blank_"},{label:"Own_Service_Item",value:"Own_Service_Item"},{label:"Installed",value:"Installed"},{label:"Temporarily_Installed",value:"Temporarily_Installed"},{label:"Defective",value:"Defective"}];function Ve(){c.value=!0,Y.value=!0,I.value=!0,S.value=!!e.No,j.value=!1,_.value=!1}function de(){Object.keys(e).forEach(b=>{e[b]=""}),e.status="Installed",e.active="Yes",x.value=!1,c.value=!1,_.value=!1,I.value=!1,Y.value=!1,S.value=!1,j.value=!1}function se(){c.value=!1,x.value=!0,_.value=re(),Y.value=!1,I.value=!1,S.value=!1,j.value=!1}function ue(){try{sessionStorage.setItem("serviceFormData",JSON.stringify(e))}catch(b){console.warn("Could not persist form to sessionStorage",b)}C.push("/create-customer")}je(()=>{try{const b=sessionStorage.getItem("serviceFormData");if(b){const n=JSON.parse(b);Object.assign(e,n),sessionStorage.removeItem("serviceFormData"),c.value=!1,_.value=re()}else c.value=!0,S.value=!1,I.value=!1,Y.value=!1,j.value=!1,_.value=!1}catch(b){console.warn("restore failed",b)}});const me=()=>{e.itemNumber&&e.serialNumber?ke():v.notify({color:"warning",message:"Please enter both Item No. and Serial No."})};async function ke(){if(!e.itemNumber||!e.serialNumber){v.notify({color:"warning",message:"Please enter both Item No. and Serial No.",position:"top"});return}try{v.loading.show({message:"Fetching Service Item...",spinnerColor:"white",backgroundColor:"rgba(0,0,0,0.6)"});const b=await K.get(`/soap/service-items?itemNo=${encodeURIComponent(e.itemNumber)}&serialNo=${encodeURIComponent(e.serialNumber)}`),n=b.data?.data;b.data?.success&&n?(Object.assign(e,{WarrantyNo:n.No||"",Key:n.Key||"",No:n.No||"",itemNumber:n.Item_No||"",serialNumber:n.Serial_No||"",itemDescription:n.Item_Description||"",brand:n.Brand||"",model:n.Model||"",status:n.Status||"Installed",active:n.Active||"Yes",ServiceItemGroupCode:n.Service_Item_Group_Code||"",ServiceItemComponents:n.Service_Item_Components||"",WarrantyOnSpareParts:n.Warranty_on_Spareparts!==void 0?n.Warranty_on_Spareparts.toString():"",WarrantyOnLabour:n.Warranty_on_Labour!==void 0?n.Warranty_on_Labour.toString():"",WarrantyOnTransport:n.Warranty_on_Transport!==void 0?n.Warranty_on_Transport.toString():"",WarrantyOnGasThermostat:n.Warranty_on_Gas_Thermostat!==void 0?n.Warranty_on_Gas_Thermostat.toString():"",WarrantyOnCompressor:n.Warranty_on_Compressor!==void 0?n.Warranty_on_Compressor.toString():"",WarrantyOnMotor:n.Warranty_on_Motor!==void 0?n.Warranty_on_Motor.toString():"",WarrantyStartingDateParts:n.Warranty_Starting_Date_Parts||"",WarrantyEndingDateParts:n.Warranty_Ending_Date_Parts||"",WarrantyPercentParts:n.Warranty_Percent_Parts||"",WarrantyStartingDateLabor:n.Warranty_Starting_Date_Labor||"",WarrantyEndingDateLabor:n.Warranty_Ending_Date_Labor||"",WarrantyStartDate:n.Warranty_Start_Date||"",customerNumber:n.Customer_No||"",customerName:n.Name||"",user:n.User_Owner||"",phoneNumber:n.Phone_No_of_User_Owner||"",address:n.Address||"",city:n.City||"",purchaseAt:n.Purchased_At||"",contact:n.Contact||"",salesDate:n.Sales_Date||"",invoiceNo:n.Invoice_No||"",soldAt:n.Sold_At_Shop||""}),v.notify({color:"positive",message:`Service Item ${e.itemNumber} / ${e.serialNumber} loaded successfully.`,position:"top"}),Ve(),I.value=!0,Y.value=!0,S.value=!0):(Object.keys(e).forEach(f=>e[f]=""),e.status="Installed",e.active="Yes",v.notify({color:"warning",message:`Service Item not found for Item No. ${e.itemNumber} and Serial ${e.serialNumber}.`,position:"top"}),c.value=!1,I.value=!0,j.value=!1)}catch(b){console.error("Fetch error:",b),v.notify({color:"negative",message:"Error fetching Service Item from Navision.",position:"top"})}finally{v.loading.hide()}}function Te(){const b=["_blank_","Own_Service_Item","Installed","Temporarily_Installed","Defective"],n=["Yes","No"];if(e.status=b.includes(e.status)?e.status:"Installed",e.active=n.includes(e.active)?e.active:"Yes",!ve()&&!e.No)throw new Error("Cannot update an item without No (primary key).")}function Le(b){return b?b.includes("T")?b.split("T")[0]:b:""}async function B(){if(c.value){v.notify({color:"warning",message:"Unlock form to make changes before saving."});return}if(!e.itemNumber||!e.serialNumber){v.notify({color:"negative",message:"Item Number and Serial Number are required.",position:"top"});return}try{Te(),["salesDate","WarrantyStartDate","WarrantyStartingDateParts","WarrantyEndingDateParts","WarrantyStartingDateLabor","WarrantyEndingDateLabor"].forEach(g=>{e[g]=Le(e[g])});const f={...Qe(e),itemNumber:e.itemNumber,serialNumber:e.serialNumber,isNew:ve(),...ve()?{}:{Key:e.Key}};v.loading.show({message:"Submitting to Navision...",spinnerColor:"white",backgroundColor:"rgba(0,0,0,0.6)"});const m=await K.post("/soap/service-items",f);if(m.data?.success){const g=m.data.data;g?.No&&(e.No=g.No),g?.Key&&(e.Key=g.Key),v.notify({color:"positive",message:`Service Item ${e.itemNumber} / ${e.serialNumber} saved successfully.`,position:"top"}),Ve(),I.value=!0,Y.value=!0,S.value=!0,await Ee(e.itemNumber,e.serialNumber)}else v.notify({color:"negative",message:m.data?.error||"Failed to submit Service Item.",position:"top"})}catch(b){console.error("SOAP Submit Error:",b);const n=b.response?.data?.error||b.message||"Unexpected error submitting item.";v.notify({color:"negative",message:n,position:"top"})}finally{v.loading.hide()}}async function Ee(b,n){try{const f=await K.get(`/soap/service-items?itemNo=${b}&serialNo=${n}`);if(console.log("fetchSavedData response:",f),f.data?.success&&f.data.data){const m=f.data.data;Object.assign(e,{WarrantyNo:m.No||"",Key:m.Key||"",No:m.No||"",itemNumber:m.Item_No||"",serialNumber:m.Serial_No||"",itemDescription:m.Item_Description||"",brand:m.Brand||"",model:m.Model||"",status:m.Status||"Installed",active:m.Active||"Yes",ServiceItemGroupCode:m.Service_Item_Group_Code||"",ServiceItemComponents:m.Service_Item_Components||"",WarrantyOnSpareParts:m.Warranty_on_Spareparts!==void 0?m.Warranty_on_Spareparts.toString():"",WarrantyOnLabour:m.Warranty_on_Labour!==void 0?m.Warranty_on_Labour.toString():"",WarrantyOnTransport:m.Warranty_on_Transport!==void 0?m.Warranty_on_Transport.toString():"",WarrantyOnGasThermostat:m.Warranty_on_Gas_Thermostat!==void 0?m.Warranty_on_Gas_Thermostat.toString():"",WarrantyOnCompressor:m.Warranty_on_Compressor!==void 0?m.Warranty_on_Compressor.toString():"",WarrantyOnMotor:m.Warranty_on_Motor!==void 0?m.Warranty_on_Motor.toString():"",WarrantyStartingDateParts:m.Warranty_Starting_Date_Parts||"",WarrantyEndingDateParts:m.Warranty_Ending_Date_Parts||"",WarrantyPercentParts:m.Warranty_Percent_Parts||"",WarrantyStartingDateLabor:m.Warranty_Starting_Date_Labor||"",WarrantyEndingDateLabor:m.Warranty_Ending_Date_Labor||"",WarrantyStartDate:m.Warranty_Start_Date||"",customerNumber:m.Customer_No||"",customerName:m.Name||"",user:m.User_Owner||"",phoneNumber:m.Phone_No_of_User_Owner||"",address:m.Address||"",city:m.City||"",purchaseAt:m.Purchased_At||"",contact:m.Contact||"",salesDate:m.Sales_Date||"",invoiceNo:m.Invoice_No||"",soldAt:m.Sold_At_Shop||""}),Ve(),v.notify({color:"positive",message:`Data fetched successfully for Item No. ${b}`,position:"top"})}else v.notify({color:"negative",message:"Failed to fetch saved data.",position:"top"})}catch(f){console.error("Error fetching saved data:",f),v.notify({color:"negative",message:"Error fetching saved data.",position:"top"})}}async function Z(){if(!oe.value){v.notify({color:"warning",message:"Enter something to search",position:"top"});return}R.value=!0,A.value=[];try{const n=(await K.get(`/soap/customers?search=${encodeURIComponent(oe.value)}`)).data?.data||[];if(!n.length){v.notify({color:"warning",message:"No customers found â€” redirecting to create customer."});try{sessionStorage.setItem("serviceFormData",JSON.stringify(e))}catch(f){console.warn("sessionStorage set failed",f)}C.push("/create-customer");return}A.value=n.map(f=>({label:f.Name,value:f.No,raw:f})),await ze(),J.value?.showPopup()}catch(b){console.error("Customer fetch failed:",b),v.notify({color:"negative",message:"Error fetching customer data",position:"top"})}finally{R.value=!1}}async function ie(b){if(!b)return;const n=A.value.find(m=>m.value===b);if(!n)return;e.customerName=n.label;const f=n.raw;try{const m=await K.get(`/soap/customers?search=${encodeURIComponent(f.Search_Name)}`);if(m.data&&m.data.data){const g=m.data.data[0];e.customerNumber=g.No||"",e.address=g.Address||"",e.city=g.City||"",e.phoneNumber=g.Phone_No||"",e.contact=g.ContactName||"",e.purchaseAt=g.Purchased_At||"",e.salesDate=g.Sales_Date||"",e.invoiceNo=g.Invoice_No||"",j.value=!1,_.value=!c.value&&re()}}catch(m){console.error("Failed to fetch customer details:",m),v.notify({color:"negative",message:"Failed to fetch customer details",position:"top"})}}function ce(b,n){oe.value=b,n(b)}function ye(){e.customerNumber="",e.customerName="",e.address="",e.city="",e.postCode="",e.phoneNumber="",e.contact="",e.purchaseAt="",e.salesDate="",e.invoiceNo="",A.value=[],oe.value="",j.value=!1}async function be(){if(!S.value&&!S.value){v.notify({color:"warning",message:"Print is not available."});return}try{v.loading.show({message:"Generating document...",spinnerColor:"white",backgroundColor:"rgba(0,0,0,0.6)"}),await He({Description_ServiceItem:e.itemDescription,SparepartsTxt:e.WarrantyOnSpareParts,LabourTxt:e.WarrantyOnLabour,TransportTxt:e.WarrantyOnTransport,GasThermostatTxt:e.WarrantyOnGasThermostat,CompressorTxt:e.WarrantyOnCompressor,CustomerName:e.customerName,Brand:e.brand,Model:e.model,SerialNo:e.serialNumber,SoldBy:e.soldAt,Location_ServiceItem:e.purchaseAt,InvoiceNo:e.invoiceNo,WarrantyStartDateTxt:e.WarrantyStartDate,No_ServiceItem:e.itemNumber,AddressTxt:e.address}),v.notify({color:"positive",message:"Document generated."})}catch(b){console.error("Error generating document:",b),v.notify({color:"negative",message:"Error generating document",position:"top"})}finally{v.loading.hide()}}return(b,n,f,m)=>{const g=L("q-page"),we=L("q-form"),y=L("q-btn"),D=L("q-icon"),W=L("q-separator"),t=L("q-input"),h=L("q-select"),w=L("q-popup-proxy"),U=L("q-date"),N=Me("close-popup");n(i(g,Ue({class:"flex flex-center"},m),{default:s((Xe,_e,Ae,$e)=>{if(_e)_e(i(we,{ref:"mainForm",onSubmit:B,class:"q-pa-md"},{default:s((r,$,pe,P)=>{if($)$(i(E,{class:"no-margin"},{default:s((o,u,p,d)=>{if(u)u(`<div class="row flex align-center" data-v-ca9a84fa${d}><div class="col-5" data-v-ca9a84fa${d}><p class="text-h5 text-bold flex items-center text-grey-7 no-margin" data-v-ca9a84fa${d}><i class="material-icons q-mr-md" data-v-ca9a84fa${d}>list_alt</i>Service Item Card </p></div><div class="col-7 flex flex-end justify-end" data-v-ca9a84fa${d}>`),u(i(y,{icon:"print",color:"orange-14",label:"Print",class:"rounded-borders q-mr-md",onClick:be,outline:"",disable:!S.value},null,p,d)),u(i(y,{icon:"create",label:"Create",color:"light-blue-14",class:"rounded-borders q-mr-md",size:"md",onClick:de,outline:""},null,p,d)),u(i(y,{icon:"update",label:"Edit Warranty Card",color:"green",class:"rounded-borders",size:"md",onClick:se,outline:""},null,p,d)),u("</div></div>");else return[a("div",{class:"row flex align-center"},[a("div",{class:"col-5"},[a("p",{class:"text-h5 text-bold flex items-center text-grey-7 no-margin"},[a("i",{class:"material-icons q-mr-md"},"list_alt"),qe("Service Item Card ")])]),a("div",{class:"col-7 flex flex-end justify-end"},[a(y,{icon:"print",color:"orange-14",label:"Print",class:"rounded-borders q-mr-md",onClick:be,outline:"",disable:!S.value},null,8,["disable"]),a(y,{icon:"create",label:"Create",color:"light-blue-14",class:"rounded-borders q-mr-md",size:"md",onClick:de,outline:""}),a(y,{icon:"update",label:"Edit Warranty Card",color:"green",class:"rounded-borders",size:"md",onClick:se,outline:""})])])]}),_:1},pe,P)),e&&e.WarrantyNo?$(`<div class="row q-mt-sm" data-v-ca9a84fa${P}><div class="col-12" data-v-ca9a84fa${P}><h1 class="text-h5 q-mb-sm q-ml-sm" data-v-ca9a84fa${P}>${Ce(e.WarrantyNo)} - ${Ce(e.itemDescription)}</h1></div></div>`):($(`<div class="text-grey q-py-md flex items-center" data-v-ca9a84fa${P}>`),$(i(D,{name:"info",size:"sm",class:"q-mr-sm"},null,pe,P)),$(`<p class="text-h6 no-margin" data-v-ca9a84fa${P}>No Service Item loaded yet.</p></div>`)),$(i(E,null,{default:s((o,u,p,d)=>{if(u)u(`<div class="row" data-v-ca9a84fa${d}><div class="col-12" data-v-ca9a84fa${d}><h2 class="text-h6 text-primary no-margin" data-v-ca9a84fa${d}>General Information</h2>`),u(i(W,{color:"grey-4",class:"q-mb-md"},null,p,d)),u(`</div></div><div class="row q-col-gutter-lg" data-v-ca9a84fa${d}><div class="col-12 col-md-6" data-v-ca9a84fa${d}>`),u(i(t,{modelValue:e.itemNumber,"onUpdate:modelValue":l=>e.itemNumber=l,label:"Item No.",dense:"",outlined:"",rules:[l=>!!l],readonly:c.value,class:"no-padding q-mb-md"},null,p,d)),u(i(t,{modelValue:e.serialNumber,"onUpdate:modelValue":l=>e.serialNumber=l,label:"Serial No.",dense:"",outlined:"",rules:[l=>!!l],readonly:c.value,class:"no-padding q-mb-md"},null,p,d)),x.value?(u(`<div class="row" data-v-ca9a84fa${d}><div class="flex items-center justify-center full-width" data-v-ca9a84fa${d}>`),u(i(y,{color:"secondary",icon:"search",label:"Search Item",class:"rounded-borders",disable:!e.itemNumber||!e.serialNumber,onClick:me,outline:""},null,p,d)),u(i(W,{color:"grey-4",class:"q-my-md full-width"},null,p,d)),u("</div></div>")):u("<!---->"),u(i(t,{modelValue:e.itemDescription,"onUpdate:modelValue":l=>e.itemDescription=l,dense:"",outlined:"",label:"Item Description",class:"q-mb-md",readonly:c.value},null,p,d)),u(i(t,{modelValue:e.brand,"onUpdate:modelValue":l=>e.brand=l,dense:"",outlined:"",label:"Brand",class:"q-mb-md",readonly:!0},null,p,d)),u(i(h,{class:"q-mb-md",modelValue:e.status,"onUpdate:modelValue":l=>e.status=l,options:ne,"emit-value":"","map-options":"",dense:"",outlined:"",label:"Status",readonly:c.value},null,p,d)),u(i(h,{class:"q-mb-md",modelValue:e.active,"onUpdate:modelValue":l=>e.active=l,options:["Yes","No"],dense:"",outlined:"",label:"Active",readonly:c.value},null,p,d)),u(i(t,{modelValue:e.ServiceItemGroupCode,"onUpdate:modelValue":l=>e.ServiceItemGroupCode=l,dense:"",outlined:"",label:"Service Item Group Code",class:"q-mb-md",readonly:!0},null,p,d)),u(i(t,{label:"Warranty Start Date",modelValue:e.WarrantyStartDate,"onUpdate:modelValue":l=>e.WarrantyStartDate=l,mask:"date",dense:"",outlined:"",class:"q-mb-md",readonly:c.value},{append:s((l,G,Q,H)=>{if(G)G(i(D,{name:"event",class:"cursor-pointer"},{default:s((X,ee,fe,ge)=>{if(ee)ee(i(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s((ae,le,We,Ne)=>{if(le)le(i(U,{modelValue:e.WarrantyStartDate,"onUpdate:modelValue":k=>e.WarrantyStartDate=k},{default:s((k,T,Se,te)=>{if(T)T(`<div class="row items-center justify-end" data-v-ca9a84fa${te}>`),T(i(y,Ue({label:"Close",color:"primary",flat:""},Oe(b,N)),null,Se,te)),T("</div>");else return[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]}),_:1},We,Ne));else return[a(U,{modelValue:e.WarrantyStartDate,"onUpdate:modelValue":k=>e.WarrantyStartDate=k},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1},fe,ge));else return[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.WarrantyStartDate,"onUpdate:modelValue":ae=>e.WarrantyStartDate=ae},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]}),_:1},Q,H));else return[a(D,{name:"event",class:"cursor-pointer"},{default:s(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.WarrantyStartDate,"onUpdate:modelValue":X=>e.WarrantyStartDate=X},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]}),_:1},p,d)),u(`</div><div class="col-12 col-md-6" data-v-ca9a84fa${d}>`),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyOnSpareParts,"onUpdate:modelValue":l=>e.WarrantyOnSpareParts=l,type:"number",dense:"",outlined:"",label:"Warranty On Spare Parts",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyOnLabour,"onUpdate:modelValue":l=>e.WarrantyOnLabour=l,dense:"",outlined:"",label:"Warranty On Labour",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyOnTransport,"onUpdate:modelValue":l=>e.WarrantyOnTransport=l,dense:"",outlined:"",label:"Warranty On Transport",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyOnGasThermostat,"onUpdate:modelValue":l=>e.WarrantyOnGasThermostat=l,dense:"",outlined:"",label:"Warranty On Gas Thermostat",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyOnCompressor,"onUpdate:modelValue":l=>e.WarrantyOnCompressor=l,dense:"",outlined:"",label:"Warranty On Compressor",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyOnMotor,"onUpdate:modelValue":l=>e.WarrantyOnMotor=l,dense:"",outlined:"",label:"Warranty On Motor",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyStartingDateParts,"onUpdate:modelValue":l=>e.WarrantyStartingDateParts=l,dense:"",outlined:"",label:"Warranty Starting Date (Parts)",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyEndingDateParts,"onUpdate:modelValue":l=>e.WarrantyEndingDateParts=l,mask:"date",dense:"",outlined:"",label:"Warranty Ending Date (Parts)",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyStartingDateLabor,"onUpdate:modelValue":l=>e.WarrantyStartingDateLabor=l,mask:"date",dense:"",outlined:"",label:"Warranty Starting Date (Labour)",readonly:!0},null,p,d)),u(i(t,{class:"q-mb-md",modelValue:e.WarrantyEndingDateLabor,"onUpdate:modelValue":l=>e.WarrantyEndingDateLabor=l,mask:"date",dense:"",outlined:"",label:"Warranty Ending Date (Labour)",readonly:!0},null,p,d)),u("</div></div>");else return[a("div",{class:"row"},[a("div",{class:"col-12"},[a("h2",{class:"text-h6 text-primary no-margin"},"General Information"),a(W,{color:"grey-4",class:"q-mb-md"})])]),a("div",{class:"row q-col-gutter-lg"},[a("div",{class:"col-12 col-md-6"},[a(t,{modelValue:e.itemNumber,"onUpdate:modelValue":l=>e.itemNumber=l,label:"Item No.",dense:"",outlined:"",rules:[l=>!!l],readonly:c.value,class:"no-padding q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","readonly"]),a(t,{modelValue:e.serialNumber,"onUpdate:modelValue":l=>e.serialNumber=l,label:"Serial No.",dense:"",outlined:"",rules:[l=>!!l],readonly:c.value,class:"no-padding q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","readonly"]),x.value?(F(),M("div",{key:0,class:"row"},[a("div",{class:"flex items-center justify-center full-width"},[a(y,{color:"secondary",icon:"search",label:"Search Item",class:"rounded-borders",disable:!e.itemNumber||!e.serialNumber,onClick:me,outline:""},null,8,["disable"]),a(W,{color:"grey-4",class:"q-my-md full-width"})])])):De("",!0),a(t,{modelValue:e.itemDescription,"onUpdate:modelValue":l=>e.itemDescription=l,dense:"",outlined:"",label:"Item Description",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{modelValue:e.brand,"onUpdate:modelValue":l=>e.brand=l,dense:"",outlined:"",label:"Brand",class:"q-mb-md",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(h,{class:"q-mb-md",modelValue:e.status,"onUpdate:modelValue":l=>e.status=l,options:ne,"emit-value":"","map-options":"",dense:"",outlined:"",label:"Status",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(h,{class:"q-mb-md",modelValue:e.active,"onUpdate:modelValue":l=>e.active=l,options:["Yes","No"],dense:"",outlined:"",label:"Active",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{modelValue:e.ServiceItemGroupCode,"onUpdate:modelValue":l=>e.ServiceItemGroupCode=l,dense:"",outlined:"",label:"Service Item Group Code",class:"q-mb-md",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Warranty Start Date",modelValue:e.WarrantyStartDate,"onUpdate:modelValue":l=>e.WarrantyStartDate=l,mask:"date",dense:"",outlined:"",class:"q-mb-md",readonly:c.value},{append:s(()=>[a(D,{name:"event",class:"cursor-pointer"},{default:s(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.WarrantyStartDate,"onUpdate:modelValue":l=>e.WarrantyStartDate=l},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","readonly"])]),a("div",{class:"col-12 col-md-6"},[a(t,{class:"q-mb-md",modelValue:e.WarrantyOnSpareParts,"onUpdate:modelValue":l=>e.WarrantyOnSpareParts=l,type:"number",dense:"",outlined:"",label:"Warranty On Spare Parts",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnLabour,"onUpdate:modelValue":l=>e.WarrantyOnLabour=l,dense:"",outlined:"",label:"Warranty On Labour",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnTransport,"onUpdate:modelValue":l=>e.WarrantyOnTransport=l,dense:"",outlined:"",label:"Warranty On Transport",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnGasThermostat,"onUpdate:modelValue":l=>e.WarrantyOnGasThermostat=l,dense:"",outlined:"",label:"Warranty On Gas Thermostat",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnCompressor,"onUpdate:modelValue":l=>e.WarrantyOnCompressor=l,dense:"",outlined:"",label:"Warranty On Compressor",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnMotor,"onUpdate:modelValue":l=>e.WarrantyOnMotor=l,dense:"",outlined:"",label:"Warranty On Motor",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyStartingDateParts,"onUpdate:modelValue":l=>e.WarrantyStartingDateParts=l,dense:"",outlined:"",label:"Warranty Starting Date (Parts)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyEndingDateParts,"onUpdate:modelValue":l=>e.WarrantyEndingDateParts=l,mask:"date",dense:"",outlined:"",label:"Warranty Ending Date (Parts)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyStartingDateLabor,"onUpdate:modelValue":l=>e.WarrantyStartingDateLabor=l,mask:"date",dense:"",outlined:"",label:"Warranty Starting Date (Labour)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyEndingDateLabor,"onUpdate:modelValue":l=>e.WarrantyEndingDateLabor=l,mask:"date",dense:"",outlined:"",label:"Warranty Ending Date (Labour)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"])])])]}),_:1},pe,P)),$(i(E,null,{default:s((o,u,p,d)=>{if(u)u(`<div class="row" data-v-ca9a84fa${d}><div class="col-12" data-v-ca9a84fa${d}><h2 class="text-h6 text-primary no-margin" data-v-ca9a84fa${d}> Customer No. ${Ce(e.customerNumber)}</h2></div>`),u(i(W,{color:"grey-4",class:"full-width"},null,p,d)),u(`</div><div class="row" data-v-ca9a84fa${d}><div class="col-12" data-v-ca9a84fa${d}>`),u(i(y,{color:"secondary",label:"Create new customer",size:"md",icon:"person_add",class:"q-my-md",outline:"",onClick:ue},null,p,d)),u(`</div></div><div class="row q-col-gutter-lg" data-v-ca9a84fa${d}><div class="col col-md-6" data-v-ca9a84fa${d}>`),u(i(h,{ref_key:"customerSelect",ref:J,modelValue:e.customerName,"onUpdate:modelValue":[l=>e.customerName=l,ie],options:A.value,"option-label":"label","option-value":"value","emit-value":"","use-input":"","input-debounce":"0",clearable:"",dense:"",outlined:"",label:"Name",loading:R.value,onFilter:ce,onClear:ye,rules:[l=>!!l],readonly:c.value,class:"no-padding q-mb-md"},{append:s((l,G,Q,H)=>{if(G)G(i(y,{dense:"",flat:"",round:"",icon:"search",onClick:Z},null,Q,H));else return[a(y,{dense:"",flat:"",round:"",icon:"search",onClick:Z})]}),_:1},p,d)),u(i(t,{label:"Customer No.",modelValue:e.customerNumber,"onUpdate:modelValue":l=>e.customerNumber=l,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,p,d)),u(i(t,{label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":l=>e.phoneNumber=l,type:"number",dense:"",outlined:"",class:"q-mb-md",readonly:""},null,p,d)),u(i(t,{label:"Address",modelValue:e.address,"onUpdate:modelValue":l=>e.address=l,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,p,d)),u(i(t,{label:"City",modelValue:e.city,"onUpdate:modelValue":l=>e.city=l,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,p,d)),u(`</div><div class="col col-md-6" data-v-ca9a84fa${d}>`),u(i(t,{label:"Contact",modelValue:e.contact,"onUpdate:modelValue":l=>e.contact=l,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,p,d)),u(i(t,{label:"Sales Date",modelValue:e.salesDate,"onUpdate:modelValue":l=>e.salesDate=l,mask:"date",dense:"",outlined:"",class:"q-mb-md",readonly:c.value},{append:s((l,G,Q,H)=>{if(G)G(i(D,{name:"event",class:"cursor-pointer"},{default:s((X,ee,fe,ge)=>{if(ee)ee(i(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s((ae,le,We,Ne)=>{if(le)le(i(U,{modelValue:e.salesDate,"onUpdate:modelValue":k=>e.salesDate=k},{default:s((k,T,Se,te)=>{if(T)T(`<div class="row items-center justify-end" data-v-ca9a84fa${te}>`),T(i(y,Ue({label:"Close",color:"primary",flat:""},Oe(b,N)),null,Se,te)),T("</div>");else return[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]}),_:1},We,Ne));else return[a(U,{modelValue:e.salesDate,"onUpdate:modelValue":k=>e.salesDate=k},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1},fe,ge));else return[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.salesDate,"onUpdate:modelValue":ae=>e.salesDate=ae},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]}),_:1},Q,H));else return[a(D,{name:"event",class:"cursor-pointer"},{default:s(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.salesDate,"onUpdate:modelValue":X=>e.salesDate=X},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]}),_:1},p,d)),u(i(t,{label:"Invoice No.",modelValue:e.invoiceNo,"onUpdate:modelValue":l=>e.invoiceNo=l,dense:"",outlined:"",class:"q-mb-md",readonly:c.value},null,p,d)),u(i(t,{label:"Sold At (Shop)",modelValue:e.soldAt,"onUpdate:modelValue":l=>e.soldAt=l,dense:"",outlined:"",class:"q-mb-md",readonly:c.value},null,p,d)),u(`</div></div><div class="row" data-v-ca9a84fa${d}>`),u(i(W,{color:"grey-4",class:"full-width"},null,p,d)),u(`<div class="col-12 flex flex-center" data-v-ca9a84fa${d}>`),u(i(y,{icon:"cloud_upload",color:"light-blue-14",label:"Submit",class:"rounded-borders q-mt-md",onClick:B,outline:"",disable:!_.value},null,p,d)),u("</div></div>");else return[a("div",{class:"row"},[a("div",{class:"col-12"},[a("h2",{class:"text-h6 text-primary no-margin"}," Customer No. "+z(e.customerNumber),1)]),a(W,{color:"grey-4",class:"full-width"})]),a("div",{class:"row"},[a("div",{class:"col-12"},[a(y,{color:"secondary",label:"Create new customer",size:"md",icon:"person_add",class:"q-my-md",outline:"",onClick:ue})])]),a("div",{class:"row q-col-gutter-lg"},[a("div",{class:"col col-md-6"},[a(h,{ref_key:"customerSelect",ref:J,modelValue:e.customerName,"onUpdate:modelValue":[l=>e.customerName=l,ie],options:A.value,"option-label":"label","option-value":"value","emit-value":"","use-input":"","input-debounce":"0",clearable:"",dense:"",outlined:"",label:"Name",loading:R.value,onFilter:ce,onClear:ye,rules:[l=>!!l],readonly:c.value,class:"no-padding q-mb-md"},{append:s(()=>[a(y,{dense:"",flat:"",round:"",icon:"search",onClick:Z})]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules","readonly"]),a(t,{label:"Customer No.",modelValue:e.customerNumber,"onUpdate:modelValue":l=>e.customerNumber=l,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":l=>e.phoneNumber=l,type:"number",dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Address",modelValue:e.address,"onUpdate:modelValue":l=>e.address=l,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"City",modelValue:e.city,"onUpdate:modelValue":l=>e.city=l,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),a("div",{class:"col col-md-6"},[a(t,{label:"Contact",modelValue:e.contact,"onUpdate:modelValue":l=>e.contact=l,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Sales Date",modelValue:e.salesDate,"onUpdate:modelValue":l=>e.salesDate=l,mask:"date",dense:"",outlined:"",class:"q-mb-md",readonly:c.value},{append:s(()=>[a(D,{name:"event",class:"cursor-pointer"},{default:s(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.salesDate,"onUpdate:modelValue":l=>e.salesDate=l},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{label:"Invoice No.",modelValue:e.invoiceNo,"onUpdate:modelValue":l=>e.invoiceNo=l,dense:"",outlined:"",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{label:"Sold At (Shop)",modelValue:e.soldAt,"onUpdate:modelValue":l=>e.soldAt=l,dense:"",outlined:"",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"])])]),a("div",{class:"row"},[a(W,{color:"grey-4",class:"full-width"}),a("div",{class:"col-12 flex flex-center"},[a(y,{icon:"cloud_upload",color:"light-blue-14",label:"Submit",class:"rounded-borders q-mt-md",onClick:B,outline:"",disable:!_.value},null,8,["disable"])])])]}),_:1},pe,P));else return[a(E,{class:"no-margin"},{default:s(()=>[a("div",{class:"row flex align-center"},[a("div",{class:"col-5"},[a("p",{class:"text-h5 text-bold flex items-center text-grey-7 no-margin"},[a("i",{class:"material-icons q-mr-md"},"list_alt"),qe("Service Item Card ")])]),a("div",{class:"col-7 flex flex-end justify-end"},[a(y,{icon:"print",color:"orange-14",label:"Print",class:"rounded-borders q-mr-md",onClick:be,outline:"",disable:!S.value},null,8,["disable"]),a(y,{icon:"create",label:"Create",color:"light-blue-14",class:"rounded-borders q-mr-md",size:"md",onClick:de,outline:""}),a(y,{icon:"update",label:"Edit Warranty Card",color:"green",class:"rounded-borders",size:"md",onClick:se,outline:""})])])]),_:1}),e&&e.WarrantyNo?(F(),M("div",{key:0,class:"row q-mt-sm"},[a("div",{class:"col-12"},[a("h1",{class:"text-h5 q-mb-sm q-ml-sm"},z(e.WarrantyNo)+" - "+z(e.itemDescription),1)])])):(F(),M("div",{key:1,class:"text-grey q-py-md flex items-center"},[a(D,{name:"info",size:"sm",class:"q-mr-sm"}),a("p",{class:"text-h6 no-margin"},"No Service Item loaded yet.")])),a(E,null,{default:s(()=>[a("div",{class:"row"},[a("div",{class:"col-12"},[a("h2",{class:"text-h6 text-primary no-margin"},"General Information"),a(W,{color:"grey-4",class:"q-mb-md"})])]),a("div",{class:"row q-col-gutter-lg"},[a("div",{class:"col-12 col-md-6"},[a(t,{modelValue:e.itemNumber,"onUpdate:modelValue":o=>e.itemNumber=o,label:"Item No.",dense:"",outlined:"",rules:[o=>!!o],readonly:c.value,class:"no-padding q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","readonly"]),a(t,{modelValue:e.serialNumber,"onUpdate:modelValue":o=>e.serialNumber=o,label:"Serial No.",dense:"",outlined:"",rules:[o=>!!o],readonly:c.value,class:"no-padding q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","readonly"]),x.value?(F(),M("div",{key:0,class:"row"},[a("div",{class:"flex items-center justify-center full-width"},[a(y,{color:"secondary",icon:"search",label:"Search Item",class:"rounded-borders",disable:!e.itemNumber||!e.serialNumber,onClick:me,outline:""},null,8,["disable"]),a(W,{color:"grey-4",class:"q-my-md full-width"})])])):De("",!0),a(t,{modelValue:e.itemDescription,"onUpdate:modelValue":o=>e.itemDescription=o,dense:"",outlined:"",label:"Item Description",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{modelValue:e.brand,"onUpdate:modelValue":o=>e.brand=o,dense:"",outlined:"",label:"Brand",class:"q-mb-md",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(h,{class:"q-mb-md",modelValue:e.status,"onUpdate:modelValue":o=>e.status=o,options:ne,"emit-value":"","map-options":"",dense:"",outlined:"",label:"Status",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(h,{class:"q-mb-md",modelValue:e.active,"onUpdate:modelValue":o=>e.active=o,options:["Yes","No"],dense:"",outlined:"",label:"Active",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{modelValue:e.ServiceItemGroupCode,"onUpdate:modelValue":o=>e.ServiceItemGroupCode=o,dense:"",outlined:"",label:"Service Item Group Code",class:"q-mb-md",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Warranty Start Date",modelValue:e.WarrantyStartDate,"onUpdate:modelValue":o=>e.WarrantyStartDate=o,mask:"date",dense:"",outlined:"",class:"q-mb-md",readonly:c.value},{append:s(()=>[a(D,{name:"event",class:"cursor-pointer"},{default:s(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.WarrantyStartDate,"onUpdate:modelValue":o=>e.WarrantyStartDate=o},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","readonly"])]),a("div",{class:"col-12 col-md-6"},[a(t,{class:"q-mb-md",modelValue:e.WarrantyOnSpareParts,"onUpdate:modelValue":o=>e.WarrantyOnSpareParts=o,type:"number",dense:"",outlined:"",label:"Warranty On Spare Parts",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnLabour,"onUpdate:modelValue":o=>e.WarrantyOnLabour=o,dense:"",outlined:"",label:"Warranty On Labour",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnTransport,"onUpdate:modelValue":o=>e.WarrantyOnTransport=o,dense:"",outlined:"",label:"Warranty On Transport",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnGasThermostat,"onUpdate:modelValue":o=>e.WarrantyOnGasThermostat=o,dense:"",outlined:"",label:"Warranty On Gas Thermostat",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnCompressor,"onUpdate:modelValue":o=>e.WarrantyOnCompressor=o,dense:"",outlined:"",label:"Warranty On Compressor",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnMotor,"onUpdate:modelValue":o=>e.WarrantyOnMotor=o,dense:"",outlined:"",label:"Warranty On Motor",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyStartingDateParts,"onUpdate:modelValue":o=>e.WarrantyStartingDateParts=o,dense:"",outlined:"",label:"Warranty Starting Date (Parts)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyEndingDateParts,"onUpdate:modelValue":o=>e.WarrantyEndingDateParts=o,mask:"date",dense:"",outlined:"",label:"Warranty Ending Date (Parts)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyStartingDateLabor,"onUpdate:modelValue":o=>e.WarrantyStartingDateLabor=o,mask:"date",dense:"",outlined:"",label:"Warranty Starting Date (Labour)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyEndingDateLabor,"onUpdate:modelValue":o=>e.WarrantyEndingDateLabor=o,mask:"date",dense:"",outlined:"",label:"Warranty Ending Date (Labour)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"])])])]),_:1}),a(E,null,{default:s(()=>[a("div",{class:"row"},[a("div",{class:"col-12"},[a("h2",{class:"text-h6 text-primary no-margin"}," Customer No. "+z(e.customerNumber),1)]),a(W,{color:"grey-4",class:"full-width"})]),a("div",{class:"row"},[a("div",{class:"col-12"},[a(y,{color:"secondary",label:"Create new customer",size:"md",icon:"person_add",class:"q-my-md",outline:"",onClick:ue})])]),a("div",{class:"row q-col-gutter-lg"},[a("div",{class:"col col-md-6"},[a(h,{ref_key:"customerSelect",ref:J,modelValue:e.customerName,"onUpdate:modelValue":[o=>e.customerName=o,ie],options:A.value,"option-label":"label","option-value":"value","emit-value":"","use-input":"","input-debounce":"0",clearable:"",dense:"",outlined:"",label:"Name",loading:R.value,onFilter:ce,onClear:ye,rules:[o=>!!o],readonly:c.value,class:"no-padding q-mb-md"},{append:s(()=>[a(y,{dense:"",flat:"",round:"",icon:"search",onClick:Z})]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules","readonly"]),a(t,{label:"Customer No.",modelValue:e.customerNumber,"onUpdate:modelValue":o=>e.customerNumber=o,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":o=>e.phoneNumber=o,type:"number",dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Address",modelValue:e.address,"onUpdate:modelValue":o=>e.address=o,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"City",modelValue:e.city,"onUpdate:modelValue":o=>e.city=o,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),a("div",{class:"col col-md-6"},[a(t,{label:"Contact",modelValue:e.contact,"onUpdate:modelValue":o=>e.contact=o,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Sales Date",modelValue:e.salesDate,"onUpdate:modelValue":o=>e.salesDate=o,mask:"date",dense:"",outlined:"",class:"q-mb-md",readonly:c.value},{append:s(()=>[a(D,{name:"event",class:"cursor-pointer"},{default:s(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.salesDate,"onUpdate:modelValue":o=>e.salesDate=o},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{label:"Invoice No.",modelValue:e.invoiceNo,"onUpdate:modelValue":o=>e.invoiceNo=o,dense:"",outlined:"",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{label:"Sold At (Shop)",modelValue:e.soldAt,"onUpdate:modelValue":o=>e.soldAt=o,dense:"",outlined:"",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"])])]),a("div",{class:"row"},[a(W,{color:"grey-4",class:"full-width"}),a("div",{class:"col-12 flex flex-center"},[a(y,{icon:"cloud_upload",color:"light-blue-14",label:"Submit",class:"rounded-borders q-mt-md",onClick:B,outline:"",disable:!_.value},null,8,["disable"])])])]),_:1})]}),_:1},Ae,$e));else return[a(we,{ref:"mainForm",onSubmit:Fe(B,["prevent"]),class:"q-pa-md"},{default:s(()=>[a(E,{class:"no-margin"},{default:s(()=>[a("div",{class:"row flex align-center"},[a("div",{class:"col-5"},[a("p",{class:"text-h5 text-bold flex items-center text-grey-7 no-margin"},[a("i",{class:"material-icons q-mr-md"},"list_alt"),qe("Service Item Card ")])]),a("div",{class:"col-7 flex flex-end justify-end"},[a(y,{icon:"print",color:"orange-14",label:"Print",class:"rounded-borders q-mr-md",onClick:be,outline:"",disable:!S.value},null,8,["disable"]),a(y,{icon:"create",label:"Create",color:"light-blue-14",class:"rounded-borders q-mr-md",size:"md",onClick:de,outline:""}),a(y,{icon:"update",label:"Edit Warranty Card",color:"green",class:"rounded-borders",size:"md",onClick:se,outline:""})])])]),_:1}),e&&e.WarrantyNo?(F(),M("div",{key:0,class:"row q-mt-sm"},[a("div",{class:"col-12"},[a("h1",{class:"text-h5 q-mb-sm q-ml-sm"},z(e.WarrantyNo)+" - "+z(e.itemDescription),1)])])):(F(),M("div",{key:1,class:"text-grey q-py-md flex items-center"},[a(D,{name:"info",size:"sm",class:"q-mr-sm"}),a("p",{class:"text-h6 no-margin"},"No Service Item loaded yet.")])),a(E,null,{default:s(()=>[a("div",{class:"row"},[a("div",{class:"col-12"},[a("h2",{class:"text-h6 text-primary no-margin"},"General Information"),a(W,{color:"grey-4",class:"q-mb-md"})])]),a("div",{class:"row q-col-gutter-lg"},[a("div",{class:"col-12 col-md-6"},[a(t,{modelValue:e.itemNumber,"onUpdate:modelValue":r=>e.itemNumber=r,label:"Item No.",dense:"",outlined:"",rules:[r=>!!r],readonly:c.value,class:"no-padding q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","readonly"]),a(t,{modelValue:e.serialNumber,"onUpdate:modelValue":r=>e.serialNumber=r,label:"Serial No.",dense:"",outlined:"",rules:[r=>!!r],readonly:c.value,class:"no-padding q-mb-md"},null,8,["modelValue","onUpdate:modelValue","rules","readonly"]),x.value?(F(),M("div",{key:0,class:"row"},[a("div",{class:"flex items-center justify-center full-width"},[a(y,{color:"secondary",icon:"search",label:"Search Item",class:"rounded-borders",disable:!e.itemNumber||!e.serialNumber,onClick:me,outline:""},null,8,["disable"]),a(W,{color:"grey-4",class:"q-my-md full-width"})])])):De("",!0),a(t,{modelValue:e.itemDescription,"onUpdate:modelValue":r=>e.itemDescription=r,dense:"",outlined:"",label:"Item Description",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{modelValue:e.brand,"onUpdate:modelValue":r=>e.brand=r,dense:"",outlined:"",label:"Brand",class:"q-mb-md",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(h,{class:"q-mb-md",modelValue:e.status,"onUpdate:modelValue":r=>e.status=r,options:ne,"emit-value":"","map-options":"",dense:"",outlined:"",label:"Status",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(h,{class:"q-mb-md",modelValue:e.active,"onUpdate:modelValue":r=>e.active=r,options:["Yes","No"],dense:"",outlined:"",label:"Active",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{modelValue:e.ServiceItemGroupCode,"onUpdate:modelValue":r=>e.ServiceItemGroupCode=r,dense:"",outlined:"",label:"Service Item Group Code",class:"q-mb-md",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Warranty Start Date",modelValue:e.WarrantyStartDate,"onUpdate:modelValue":r=>e.WarrantyStartDate=r,mask:"date",dense:"",outlined:"",class:"q-mb-md",readonly:c.value},{append:s(()=>[a(D,{name:"event",class:"cursor-pointer"},{default:s(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.WarrantyStartDate,"onUpdate:modelValue":r=>e.WarrantyStartDate=r},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","readonly"])]),a("div",{class:"col-12 col-md-6"},[a(t,{class:"q-mb-md",modelValue:e.WarrantyOnSpareParts,"onUpdate:modelValue":r=>e.WarrantyOnSpareParts=r,type:"number",dense:"",outlined:"",label:"Warranty On Spare Parts",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnLabour,"onUpdate:modelValue":r=>e.WarrantyOnLabour=r,dense:"",outlined:"",label:"Warranty On Labour",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnTransport,"onUpdate:modelValue":r=>e.WarrantyOnTransport=r,dense:"",outlined:"",label:"Warranty On Transport",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnGasThermostat,"onUpdate:modelValue":r=>e.WarrantyOnGasThermostat=r,dense:"",outlined:"",label:"Warranty On Gas Thermostat",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnCompressor,"onUpdate:modelValue":r=>e.WarrantyOnCompressor=r,dense:"",outlined:"",label:"Warranty On Compressor",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyOnMotor,"onUpdate:modelValue":r=>e.WarrantyOnMotor=r,dense:"",outlined:"",label:"Warranty On Motor",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyStartingDateParts,"onUpdate:modelValue":r=>e.WarrantyStartingDateParts=r,dense:"",outlined:"",label:"Warranty Starting Date (Parts)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyEndingDateParts,"onUpdate:modelValue":r=>e.WarrantyEndingDateParts=r,mask:"date",dense:"",outlined:"",label:"Warranty Ending Date (Parts)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyStartingDateLabor,"onUpdate:modelValue":r=>e.WarrantyStartingDateLabor=r,mask:"date",dense:"",outlined:"",label:"Warranty Starting Date (Labour)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"]),a(t,{class:"q-mb-md",modelValue:e.WarrantyEndingDateLabor,"onUpdate:modelValue":r=>e.WarrantyEndingDateLabor=r,mask:"date",dense:"",outlined:"",label:"Warranty Ending Date (Labour)",readonly:!0},null,8,["modelValue","onUpdate:modelValue"])])])]),_:1}),a(E,null,{default:s(()=>[a("div",{class:"row"},[a("div",{class:"col-12"},[a("h2",{class:"text-h6 text-primary no-margin"}," Customer No. "+z(e.customerNumber),1)]),a(W,{color:"grey-4",class:"full-width"})]),a("div",{class:"row"},[a("div",{class:"col-12"},[a(y,{color:"secondary",label:"Create new customer",size:"md",icon:"person_add",class:"q-my-md",outline:"",onClick:ue})])]),a("div",{class:"row q-col-gutter-lg"},[a("div",{class:"col col-md-6"},[a(h,{ref_key:"customerSelect",ref:J,modelValue:e.customerName,"onUpdate:modelValue":[r=>e.customerName=r,ie],options:A.value,"option-label":"label","option-value":"value","emit-value":"","use-input":"","input-debounce":"0",clearable:"",dense:"",outlined:"",label:"Name",loading:R.value,onFilter:ce,onClear:ye,rules:[r=>!!r],readonly:c.value,class:"no-padding q-mb-md"},{append:s(()=>[a(y,{dense:"",flat:"",round:"",icon:"search",onClick:Z})]),_:1},8,["modelValue","onUpdate:modelValue","options","loading","rules","readonly"]),a(t,{label:"Customer No.",modelValue:e.customerNumber,"onUpdate:modelValue":r=>e.customerNumber=r,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":r=>e.phoneNumber=r,type:"number",dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Address",modelValue:e.address,"onUpdate:modelValue":r=>e.address=r,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"City",modelValue:e.city,"onUpdate:modelValue":r=>e.city=r,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),a("div",{class:"col col-md-6"},[a(t,{label:"Contact",modelValue:e.contact,"onUpdate:modelValue":r=>e.contact=r,dense:"",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),a(t,{label:"Sales Date",modelValue:e.salesDate,"onUpdate:modelValue":r=>e.salesDate=r,mask:"date",dense:"",outlined:"",class:"q-mb-md",readonly:c.value},{append:s(()=>[a(D,{name:"event",class:"cursor-pointer"},{default:s(()=>[a(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:s(()=>[a(U,{modelValue:e.salesDate,"onUpdate:modelValue":r=>e.salesDate=r},{default:s(()=>[a("div",{class:"row items-center justify-end"},[q(a(y,{label:"Close",color:"primary",flat:""},null,512),[[N]])])]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{label:"Invoice No.",modelValue:e.invoiceNo,"onUpdate:modelValue":r=>e.invoiceNo=r,dense:"",outlined:"",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"]),a(t,{label:"Sold At (Shop)",modelValue:e.soldAt,"onUpdate:modelValue":r=>e.soldAt=r,dense:"",outlined:"",class:"q-mb-md",readonly:c.value},null,8,["modelValue","onUpdate:modelValue","readonly"])])]),a("div",{class:"row"},[a(W,{color:"grey-4",class:"full-width"}),a("div",{class:"col-12 flex flex-center"},[a(y,{icon:"cloud_upload",color:"light-blue-14",label:"Submit",class:"rounded-borders q-mt-md",onClick:B,outline:"",disable:!_.value},null,8,["disable"])])])]),_:1})]),_:1},512)]}),_:1},f))}}},Pe=he.setup;he.setup=(V,v)=>{const C=Ye();return(C.modules||(C.modules=new Set)).add("src/pages/WarrantyCard.vue"),Pe?Pe(V,v):void 0};const ua=Ze(he,[["__scopeId","data-v-ca9a84fa"]]);export{ua as default};
